{% extends 'base.html' %}

{% block encabezado %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/panel_clasico.css') }}">
    <script src="{{ url_for('static', filename='scripts/panel_clasico.js') }}"></script>
{% endblock %}

{% block contenido %}
    <script>
        var tipo_usuario = ''
    </script>
    {% if tipo_usuario %}
        <script>
            tipo_usuario = '{{tipo_usuario}}'
        </script>
    {% endif %}
    
    <p id="titulo_panel">Panel clasico del {{fecha}}</p>
    <div class="box_superior">
        <div class="busqueda">
            <input type="date" id="fecha_docs" name="fecha" value="{{fecha}}" onchange="handler(event);">
        </div>
        <button class="btn btn-primary" onclick= ver_simbologia()>Ver simbologia</button>
        
        <div class="simbologia" id="simb" style="display: none;">
            <ul class="list-group">
                <li class="list-group-item"><span class='circle_red'></span><p>: Asociada a una nota de credito</p></li>
                <li class="list-group-item"><span class='circle_green'></span><p>: Asociada a orden de trabajo.</p></li>
                <li class="list-group-item"><span class='circle_yellow'></span><p>: Asociada a guia.</p></li>
                <li class="list-group-item"><span class='circle_brown'></span><p>: Despacho a domicilio.</p></li>
                <li class="list-group-item"><span class='circle_blue'></span><p>: Guia con  vinculo a boleta o factura.</p></li>
                <li class="list-group-item"><button class="boton_v1" id="btn_simbologia" onclick="alert('hola')"></button><span style="display: inline-block;"><p> : Documento retirado completamente.</p></span></li>
                <li class="list-group-item"><button class="boton_v1" id="btn_simbologia2" onclick="alert('hola')"></button><span style="display: inline-block;"><p> : Documento retirado Parcial (Incompleto).</p></span></li>
                
            </ul>
        </div>

        <div id="my_div">
        </div>

        <script>
            function ver_simbologia(){
                //console.log(lista_fact_adj)
                var x = document.getElementById("simb")
                if (x.style.display === "none") {
                    x.style.display = "inline-block";
                } else {
                    x.style.display = "none";
                }
            }
            /*setInterval(function(){
                nueva_fecha = $("#fecha_docs").val()
                $('#my_div').load("/obtener/guia/"+ nueva_fecha);
             }, 2000) /* time in milliseconds (ie 2 seconds)*/ 
             

        </script>
    </div>

    <!-- The Modal -->
    <div class="modal" id="modal_info">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                </div>

                <!-- Modal body -->
                <div class="modal-body" id="info">
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                </div>

            </div>
        </div>
    </div>
    
    <div id="mensaje">
    </div>
    <!-- CUERPO DEL PANEL CLASICO  -->
    <div class="container" id="body_panel">
    </div>
    
    <script>
        var respuesta = null

        setInterval(function(){
                nueva_fecha = $("#fecha_docs").val()
                $('#body_panel').load("/obtener/docs/"+ nueva_fecha );
             }, 3000) /* time in milliseconds (ie 2 seconds) , TIEMPO PARA ACTUALIZAR EL BODY-PANEL CON LOS DATOS RECIENTES.*/
        function cargar_body(x_fecha){
        $('#titulo_panel').text("Panel clasico del " + x_fecha)
        $('#body_panel').load("/obtener/docs/"+ x_fecha);
    }
    
    </script>

{% endblock %}